{% extends "base.html" %}
{% block content %}
  <style>
    .edit-shell { display:flex; flex-direction:column; gap:1.6rem; }
    .edit-hero { background:linear-gradient(135deg, #0ea5e9, #1d4ed8); color:#fff; padding:1.6rem; border-radius:20px; box-shadow:0 18px 40px rgba(14,165,233,.28); display:flex; flex-direction:column; gap:.8rem; }
    .edit-hero h1 { margin:0; font-size:1.7rem; }
    .edit-card { background:#fff; border:1px solid #e5e7eb; border-radius:20px; box-shadow:0 16px 36px rgba(15,23,42,.08); padding:1.6rem; display:flex; flex-direction:column; gap:1.2rem; }
    .form-grid { display:grid; gap:1.1rem; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); }
    .form-field { display:flex; flex-direction:column; gap:.35rem; }
    .form-field label { font-weight:600; color:#0f172a; }
    .form-field select { border:1px solid #dbe2ef; border-radius:12px; padding:.65rem .9rem; font:inherit; }
    .form-actions { display:flex; gap:.8rem; flex-wrap:wrap; justify-content:flex-end; }
    .btn-primary { background:#1d4ed8; color:#fff; border:none; border-radius:999px; padding:.7rem 1.4rem; font-weight:600; cursor:pointer; }
    .btn-secondary { background:#f1f5f9; color:#0f172a; border:none; border-radius:999px; padding:.7rem 1.4rem; font-weight:600; text-decoration:none; display:inline-flex; align-items:center; }
    @media (max-width:640px) {
      .edit-card { padding:1.4rem; }
      .form-actions { justify-content:stretch; }
      .btn-primary, .btn-secondary { width:100%; justify-content:center; }
    }
  </style>

  <div class="edit-shell">
    <section class="edit-hero">
      <div>
        <h1>Edit ticket #{{ ticket.id }}</h1>
        <p style="margin:0; max-width:600px;">Adjust status or priority to keep the work queue accurate. Use the comment thread for progress notes and handoffs.</p>
      </div>
    </section>

    <section class="edit-card">
      <form method="post">
        {% csrf_token %}
        <div class="form-grid">
          <div class="form-field">
            <label for="id_status">Status</label>
            {{ form.status }}
          </div>
          <div class="form-field">
            <label for="id_priority">Priority</label>
            {{ form.priority }}
          </div>
        </div>
        <div class="form-actions">
          <a class="btn-secondary" href="{% url 'ticket_detail' ticket.pk %}">Cancel</a>
          <button class="btn-primary" type="submit">Save changes</button>
        </div>
      </form>
    </section>
  </div>
{% endblock %}
